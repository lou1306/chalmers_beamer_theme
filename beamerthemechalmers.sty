\mode<presentation>

% Requirement
\RequirePackage{tikz}
\RequirePackage{adjustbox}
\RequirePackage[scaled]{helvet}
\RequirePackage{graphicx}
\RequirePackage{grffile}
\RequirePackage{xcolor}
\RequirePackage{xstring}

% Defaults
\titlegraphic{\includegraphics[height=2em]{figures/gu_chalmers_w}}%
\logo{\includegraphics[height=1em]{figures/gu_chalmers_w}}%

\newif\if@simpleLogo\@simpleLogofalse
\newif\if@copper\@copperfalse
% \newif\if@gu\@gufalse
% \newif\if@guChalmers\@guChalmersfalse
\DeclareOption{simple_logo}{\@simpleLogotrue}
\DeclareOption{copper}{\@coppertrue}
\DeclareOption{chalmers}{
    \if@simpleLogo%
    \titlegraphic{\includegraphics[height=3em]{figures/chalmers_w}}%
    \logo{\includegraphics[height=1.5em]{figures/chalmers_w}}%
    \else%
    \titlegraphic{\includegraphics[height=3em]{figures/chalmers_a_w}}%
    \logo{\includegraphics[height=1.6em]{figures/chalmers_a_w}}%
    \fi%
}
\DeclareOption{gu}{%
\titlegraphic{\includegraphics[height=2em]{figures/gu_w}}%
\logo{\includegraphics[height=1em]{figures/gu_w}}%
}
\DeclareOption{gu_chalmers}{%
    \titlegraphic{\includegraphics[height=2em]{figures/gu_chalmers_w}}%
    \logo{\includegraphics[height=1em]{figures/gu_chalmers_w}}%
}
\ProcessOptions

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sub Themes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{grey_light}{HTML}{cccccc}
\definecolor{grey_dark}{HTML}{333333}
\definecolor{red_dark}{HTML}{be0208}
\definecolor{red_light}{HTML}{FCB5B6}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sub Themes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\useinnertheme{chalmers}
\useoutertheme{chalmers}
\usecolortheme{chalmers}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theme settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{itemize items}[circle]
\setbeamertemplate{sections/subsections in toc}[round]
\setbeamertemplate{title page}[default][left]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Toc
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setbeamertemplate{section in toc}{\inserttocsectionnumber.~\inserttocsection}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% title page
\setbeamerfont{title}{family=\sffamily, series=\bfseries, size=\huge}
\setbeamerfont{subtitle}{family=\sffamily, series=\mdseries, size=\large}
\setbeamerfont{author}{family=\sffamily, series=\mdseries, size=\normalsize}

% frame
\setbeamerfont{frametitle}{family=\sffamily, series=\bfseries, size=\normalsize}
\setbeamerfont{framesubtitle}{family=\sffamily, series=\mdseries, size=\small}

% block
\setbeamerfont{block title}{family=\sffamily, series=\bfseries, size=\normalsize}

%structure
\setbeamerfont{structure}{family=\sffamily, series=\bfseries, size=\normalsize}

\mode<all>

\makeatletter
\def\ps@navigation@titlepage{%
  \setbeamertemplate{footline}{}
  \setbeamertemplate{headline}{}
  \setbeamertemplate{navigation symbols}{}
  \@nameuse{ps@navigation}}
\addtobeamertemplate{title page}{\thispagestyle{navigation@titlepage}}{}
\makeatother

\newcommand{\makeappendixtitle}[1]{%
{
\setbeamercolor{background canvas}{bg=MAINCOLOR}%
\setbeamertemplate{footline}{} 
\begin{frame}{}
  \begin{center}
    {\color{white}\Large #1}
  \end{center}
\end{frame}
\setbeamercolor{background canvas}{bg={}}%
}
}